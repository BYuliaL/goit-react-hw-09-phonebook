(this["webpackJsonpgoit-react-hw-09-phonebook"]=this["webpackJsonpgoit-react-hw-09-phonebook"]||[]).push([[4],{103:function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function c(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function o(t,e){return(o=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function a(t){return(a=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function i(t){return(i="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function u(t,e){return!e||"object"!==i(e)&&"function"!==typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function s(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=a(t);if(e){var c=a(this).constructor;n=Reflect.construct(r,arguments,c)}else n=r.apply(this,arguments);return u(this,n)}}n.r(e);var l=n(0),f=n.n(l),b=n(9),j=n(94),m=n(21),p=n.n(m),d=n(10),O=function(){return function(t){t(Object(d.i)()),p.a.get("/contacts").then((function(e){var n=e.data;return t(Object(d.j)(n))})).catch((function(e){return t(Object(d.h)(e.message))}))}},h=function(t){var e=t.name,n=t.number;return function(t){var r={name:e,number:n};t(Object(d.b)()),p.a.post("/contacts",r).then((function(e){var n=e.data;return t(Object(d.c)(n))})).catch((function(e){return t(Object(d.a)(e.message))}))}},y=function(t){return function(e){e(Object(d.f)()),p.a.delete("/contacts/".concat(t)).then((function(){return e(Object(d.g)(t))})).catch((function(t){return e(Object(d.e)(t.message))}))}},v=n(28),x=function(t){return t.contacts.items},g=function(t){return t.contacts.filter},_={getItems:x,getFilter:g,getVisibleContacts:Object(v.a)([x,g],(function(t,e){var n=e.toLowerCase();return t.filter((function(t){return t.name.toLowerCase().includes(n)}))}))},C=n(98),w=n.n(C),N=(n(39),n(17)),L=n(26),P=n(33),S=n.n(P),k=n(38),R=f.a.forwardRef((function(t,e){var n=t.bsPrefix,r=t.fluid,c=t.as,o=void 0===c?"div":c,a=t.className,i=Object(L.a)(t,["bsPrefix","fluid","as","className"]),u=Object(k.a)(n,"container"),s="string"===typeof r?"-"+r:"-fluid";return f.a.createElement(o,Object(N.a)({ref:e},i,{className:S()(a,r?""+u+s:u)}))}));R.displayName="Container",R.defaultProps={fluid:!1};var A=R,D=n(104),E=["xl","lg","md","sm","xs"],T=f.a.forwardRef((function(t,e){var n=t.bsPrefix,r=t.className,c=t.noGutters,o=t.as,a=void 0===o?"div":o,i=Object(L.a)(t,["bsPrefix","className","noGutters","as"]),u=Object(k.a)(n,"row"),s=u+"-cols",l=[];return E.forEach((function(t){var e,n=i[t];delete i[t];var r="xs"!==t?"-"+t:"";null!=(e=null!=n&&"object"===typeof n?n.cols:n)&&l.push(""+s+r+"-"+e)})),f.a.createElement(a,Object(N.a)({ref:e},i,{className:S.a.apply(void 0,[r,u,c&&"no-gutters"].concat(l))}))}));T.displayName="Row",T.defaultProps={noGutters:!1};var z=T,F=n(97),G=n(92),I=n(1),q={label:{color:"white",fontSize:"16px"}};function B(){var t=Object(b.c)(),e=Object(l.useState)(""),n=Object(j.a)(e,2),r=n[0],c=n[1],o=Object(l.useState)(""),a=Object(j.a)(o,2),i=a[0],u=a[1],s=Object(b.d)(_.getItems),f=Object(l.useCallback)((function(e){e.preventDefault(),s.map((function(t){return t.name.toLowerCase()})).includes(r.toLowerCase())?alert("Name '".concat(r,"' is already in contacts")):t(h({name:r,number:i})),c(""),u("")}),[r,i,t,s]);return Object(I.jsx)(A,{children:Object(I.jsxs)(D.a,{onSubmit:f,className:q.form,children:[Object(I.jsxs)(z,{children:[Object(I.jsx)(F.a,{children:Object(I.jsxs)(D.a.Group,{controlId:"formName",children:[Object(I.jsx)(D.a.Label,{style:q.label,children:"Name"}),Object(I.jsx)(D.a.Control,{type:"text",required:!0,value:r,onChange:function(t){c(t.target.value)},name:"name",pattern:"^[a-zA-Z\u0430-\u044f\u0410-\u042f]+(([' -][a-zA-Z\u0430-\u044f\u0410-\u042f ])?[a-zA-Z\u0430-\u044f\u0410-\u042f]*)*$",title:"\u0418\u043c\u044f \u043c\u043e\u0436\u0435\u0442 \u0441\u043e\u0441\u0442\u043e\u044f\u0442\u044c \u0442\u043e\u043b\u044c\u043a\u043e \u0438\u0437 \u0431\u0443\u043a\u0432, \u0430\u043f\u043e\u0441\u0442\u0440\u043e\u0444\u0430, \u0442\u0438\u0440\u0435 \u0438 \u043f\u0440\u043e\u0431\u0435\u043b\u043e\u0432. \u041d\u0430\u043f\u0440\u0438\u043c\u0435\u0440 Adrian, Jacob Mercer, Charles de Batz de Castelmore d'Artagnan \u0438 \u0442. \u043f."})]})}),Object(I.jsx)(F.a,{children:Object(I.jsxs)(D.a.Group,{controlId:"formNumber",children:[Object(I.jsx)(D.a.Label,{style:q.label,children:"Namber"}),Object(I.jsx)(D.a.Control,{required:!0,value:i,onChange:function(t){u(t.target.value)},type:"tel",name:"number",pattern:"(\\+?( |-|\\.)?\\d{1,2}( |-|\\.)?)?(\\(?\\d{3}\\)?|\\d{3})( |-|\\.)?(\\d{3}( |-|\\.)?\\d{4})",title:"\u041d\u043e\u043c\u0435\u0440 \u0442\u0435\u043b\u0435\u0444\u043e\u043d\u0430 \u0434\u043e\u043b\u0436\u0435\u043d \u0441\u043e\u0441\u0442\u043e\u044f\u0442\u044c \u0438\u0437 11-12 \u0446\u0438\u0444\u0440 \u0438 \u043c\u043e\u0436\u0435\u0442 \u0441\u043e\u0434\u0435\u0440\u0436\u0430\u0442\u044c \u0446\u0438\u0444\u0440\u044b, \u043f\u0440\u043e\u0431\u0435\u043b\u044b, \u0442\u0438\u0440\u0435, \u043f\u0443\u0437\u0430\u0442\u044b\u0435 \u0441\u043a\u043e\u0431\u043a\u0438 \u0438 \u043c\u043e\u0436\u0435\u0442 \u043d\u0430\u0447\u0438\u043d\u0430\u0442\u044c\u0441\u044f \u0441 +"})]})})," "]}),Object(I.jsx)(G.a,{className:w.a.form__button,type:"submit",children:"Add contact"})]})})}var J=n(22),Z=n.n(J),M=n(99),V=n.n(M);function U(){var t=Object(b.c)();Object(l.useEffect)((function(){t(O())}),[t]);var e=Object(b.d)(_.getVisibleContacts);return Object(I.jsx)("ul",{children:e.map((function(e){var n=e.id,r=e.name,c=e.number;return Object(I.jsxs)("li",{className:V.a.contactsList,children:[r,", ",c,Object(I.jsx)(G.a,{className:V.a.contactsList__button,type:"button",onClick:function(){return t(y(n))},children:"Delete"})]},n)}))})}U.prototype={contacts:Z.a.arrayOf(Z.a.shape({id:Z.a.string,name:Z.a.string,number:Z.a.string}))};var W={form:{display:"flex",flexDirection:"column"},label:{marginTop:15,marginBottom:10,color:"#fff"},input:{marginBottom:15}};function $(){var t=Object(b.c)(),e=Object(b.d)(_.getFilter);return Object(I.jsxs)(D.a,{style:W.form,children:[Object(I.jsx)(D.a.Label,{style:W.label,children:"Find contacts by name:"}),Object(I.jsx)(D.a.Control,{style:W.input,type:"text",value:e,onChange:function(e){return t(Object(d.d)(e.currentTarget.value))}})]})}var H=function(t){!function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&o(t,e)}(u,t);var e,n,a,i=s(u);function u(){var t;r(this,u);for(var e=arguments.length,n=new Array(e),c=0;c<e;c++)n[c]=arguments[c];return(t=i.call.apply(i,[this].concat(n))).state={},t}return e=u,(n=[{key:"componentDidMount",value:function(){this.props.fetchContacts()}},{key:"render",value:function(){return Object(I.jsxs)("div",{style:{marginTop:"30px"},children:[Object(I.jsx)(B,{}),Object(I.jsx)("h2",{style:{marginTop:"20px",color:"#fff"},children:"Contacts"}),Object(I.jsx)($,{}),Object(I.jsx)(U,{})]})}}])&&c(e.prototype,n),a&&c(e,a),u}(l.Component);e.default=Object(b.b)(null,(function(t){return{fetchContacts:function(){return t(O())}}}))(H)},98:function(t,e,n){t.exports={form__button:"Form_form__button__2w4OW",form__label:"Form_form__label__38-73"}},99:function(t,e,n){t.exports={contactsList:"Contacts_contactsList__2IoUC",contactsList__button:"Contacts_contactsList__button__3aDq8"}}}]);
//# sourceMappingURL=4.fd320c0c.chunk.js.map